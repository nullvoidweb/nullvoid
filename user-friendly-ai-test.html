<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ü§ñ NULL VOID User-Friendly AI Test</title>
    <style>
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        margin: 0;
        padding: 20px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: #333;
        min-height: 100vh;
      }
      .container {
        max-width: 900px;
        margin: 0 auto;
        background: white;
        border-radius: 15px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        overflow: hidden;
      }
      .header {
        background: linear-gradient(135deg, #4a90e2 0%, #357abd 100%);
        color: white;
        padding: 30px;
        text-align: center;
      }
      .header h1 {
        margin: 0;
        font-size: 2.2em;
      }
      .content {
        padding: 30px;
      }
      .test-section {
        margin: 25px 0;
        padding: 20px;
        border-radius: 10px;
        border-left: 5px solid #4a90e2;
        background: #f8f9fa;
      }
      .warning {
        background: #fff3cd;
        border-left-color: #ffc107;
        color: #856404;
      }
      .success {
        background: #d4edda;
        border-left-color: #28a745;
        color: #155724;
      }
      button {
        background: linear-gradient(135deg, #4a90e2 0%, #357abd 100%);
        color: white;
        border: none;
        padding: 12px 25px;
        border-radius: 8px;
        cursor: pointer;
        margin: 8px;
        font-size: 14px;
        font-weight: 600;
        transition: all 0.3s ease;
      }
      button:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(74, 144, 226, 0.4);
      }
      .chat-container {
        margin-top: 25px;
        padding: 20px;
        border: 2px solid #4a90e2;
        border-radius: 15px;
        background: linear-gradient(145deg, #f8f9fa, #e9ecef);
      }
      #chatMessages {
        height: 400px;
        overflow-y: auto;
        border: 1px solid #ddd;
        padding: 15px;
        margin: 15px 0;
        background: white;
        border-radius: 10px;
      }
      .message {
        margin: 15px 0;
        padding: 12px 15px;
        border-radius: 15px;
        max-width: 85%;
        word-wrap: break-word;
        line-height: 1.5;
      }
      .user-message {
        background: linear-gradient(135deg, #4a90e2 0%, #357abd 100%);
        color: white;
        margin-left: auto;
        text-align: right;
      }
      .ai-message {
        background: linear-gradient(135deg, #ecf0f1 0%, #bdc3c7 100%);
        color: #2c3e50;
        margin-right: auto;
      }
      .analysis {
        background: #e3f2fd;
        color: #1565c0;
        margin: 10px 0;
        padding: 10px;
        border-radius: 8px;
        font-size: 0.9em;
      }
      #chatInput {
        width: 70%;
        padding: 12px;
        border: 2px solid #4a90e2;
        border-radius: 25px;
        font-size: 14px;
        outline: none;
      }
      .test-results {
        background: #2c3e50;
        color: #ecf0f1;
        padding: 20px;
        border-radius: 10px;
        font-family: "Courier New", monospace;
        margin: 20px 0;
        white-space: pre-wrap;
        max-height: 300px;
        overflow-y: auto;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>ü§ñ NULL VOID User-Friendly AI Test</h1>
        <p>Testing AI responses for user-friendliness and accessibility</p>
      </div>

      <div class="content">
        <div class="test-section warning">
          <h3>‚ö†Ô∏è Response Quality Check</h3>
          <p>
            <strong>Goal:</strong> AI should provide simple, user-friendly
            answers without technical jargon, file names, or developer terms.
          </p>
          <p>
            <strong>Good:</strong> "Click the extension icon, then select the
            settings option"
          </p>
          <p>
            <strong>Bad:</strong> "Edit the browserless-config.js file and
            update the API_KEY variable"
          </p>
        </div>

        <div class="test-section">
          <h3>üß™ Automated User-Friendly Tests</h3>
          <button onclick="testDisposableBrowserHelp()">
            Test: Disposable Browser Help
          </button>
          <button onclick="testAIChatIssue()">Test: AI Chat Problem</button>
          <button onclick="testSecurityAdvice()">
            Test: Security Guidance
          </button>
          <button onclick="testExtensionFeatures()">
            Test: Feature Explanation
          </button>
          <div id="testResults" class="test-results"></div>
        </div>

        <div class="chat-container">
          <h3>üí¨ Interactive User-Friendly Chat Test</h3>
          <p>
            Ask questions as a regular user would. The AI should respond in
            simple, accessible terms.
          </p>
          <div id="chatMessages"></div>
          <input
            type="text"
            id="chatInput"
            placeholder="Ask about NULL VOID like a regular user..."
            onkeypress="handleKeypress(event)"
          />
          <button onclick="sendMessage()">Send</button>
          <button onclick="clearChat()">Clear</button>
        </div>
      </div>
    </div>

    <script>
      const AI_CONFIG = {
        apiKey: "AIzaSyB-j8iXAEg_W-I2l3PodnJMoO_wgai2VDU",
        baseUrl: "https://generativelanguage.googleapis.com/v1beta",
        model: "gemini-2.5-flash",
      };

      function logTest(testName, result, analysis) {
        const timestamp = new Date().toLocaleTimeString();
        const status = analysis.isUserFriendly ? "‚úÖ PASS" : "‚ùå FAIL";
        const log = `[${timestamp}] ${testName}: ${status}
User-Friendliness Score: ${analysis.userFriendliness}%
Analysis: ${analysis.details}
Response Preview: "${result.substring(0, 100)}..."
${"=".repeat(60)}
`;
        document.getElementById("testResults").textContent += log;
      }

      async function sendUserFriendlyAI(message) {
        const prompt = `You are NULL VOID AI, a helpful assistant for users of the NULL VOID browser extension.

üõ°Ô∏è YOUR ROLE:
- Help users understand and use NULL VOID extension features
- Provide simple, easy-to-follow guidance
- Keep explanations user-friendly and accessible
- Focus on what users can see and do in the extension

üéØ RESPONSE GUIDELINES:
- Use simple, clear language that anyone can understand
- Give step-by-step instructions using the extension's buttons and menus
- Focus on user interface elements, not technical details
- Never mention file names, code, or internal configurations
- Be encouraging and helpful
- Keep cybersecurity advice practical and easy to follow

‚ö†Ô∏è IMPORTANT:
- NO technical jargon or developer terms
- NO file names or internal system details
- Focus on visible buttons, menus, and options in the extension
- Explain what features do for users, not how they work internally

User Question: ${message}

Provide helpful, user-friendly guidance:`;

        try {
          const response = await fetch(
            `${AI_CONFIG.baseUrl}/models/${AI_CONFIG.model}:generateContent?key=${AI_CONFIG.apiKey}`,
            {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify({
                contents: [{ parts: [{ text: prompt }] }],
                generationConfig: {
                  temperature: 0.3,
                  maxOutputTokens: 1000,
                },
              }),
            }
          );

          if (!response.ok) {
            throw new Error(`HTTP ${response.status}`);
          }

          const data = await response.json();
          return data.candidates[0].content.parts[0].text;
        } catch (error) {
          throw new Error(`AI Error: ${error.message}`);
        }
      }

      function analyzeUserFriendliness(response) {
        const technicalTerms = [
          "manifest.json",
          "background.js",
          "browserless-config",
          "api key",
          "configuration",
          "file",
          "code",
          "script",
          "developer",
          "technical",
          ".js",
          "json",
          "config",
          "API",
          "endpoint",
          "credentials",
        ];

        const friendlyTerms = [
          "click",
          "button",
          "menu",
          "option",
          "setting",
          "tab",
          "icon",
          "open",
          "select",
          "choose",
          "go to",
          "find",
          "look for",
        ];

        let technicalCount = 0;
        let friendlyCount = 0;

        technicalTerms.forEach((term) => {
          if (response.toLowerCase().includes(term.toLowerCase())) {
            technicalCount++;
          }
        });

        friendlyTerms.forEach((term) => {
          if (response.toLowerCase().includes(term.toLowerCase())) {
            friendlyCount++;
          }
        });

        const userFriendliness = Math.max(
          0,
          100 - technicalCount * 15 + friendlyCount * 10
        );
        const isUserFriendly = userFriendliness >= 70 && technicalCount <= 2;

        return {
          userFriendliness: Math.min(100, userFriendliness),
          isUserFriendly,
          details: `Technical terms: ${technicalCount}, User-friendly terms: ${friendlyCount}`,
        };
      }

      async function testDisposableBrowserHelp() {
        try {
          const result = await sendUserFriendlyAI(
            "I see a yellow warning that says Fallback Mode when I try to use the disposable browser. What does this mean and how do I fix it?"
          );
          const analysis = analyzeUserFriendliness(result);
          logTest("Disposable Browser Help", result, analysis);
        } catch (error) {
          logTest("Disposable Browser Help", "ERROR: " + error.message, {
            isUserFriendly: false,
            userFriendliness: 0,
            details: "Test failed",
          });
        }
      }

      async function testAIChatIssue() {
        try {
          const result = await sendUserFriendlyAI(
            "The AI chat keeps saying 'I apologize, but I encountered an error'. How do I fix this?"
          );
          const analysis = analyzeUserFriendliness(result);
          logTest("AI Chat Issue", result, analysis);
        } catch (error) {
          logTest("AI Chat Issue", "ERROR: " + error.message, {
            isUserFriendly: false,
            userFriendliness: 0,
            details: "Test failed",
          });
        }
      }

      async function testSecurityAdvice() {
        try {
          const result = await sendUserFriendlyAI(
            "How do I stay safe while browsing with NULL VOID?"
          );
          const analysis = analyzeUserFriendliness(result);
          logTest("Security Advice", result, analysis);
        } catch (error) {
          logTest("Security Advice", "ERROR: " + error.message, {
            isUserFriendly: false,
            userFriendliness: 0,
            details: "Test failed",
          });
        }
      }

      async function testExtensionFeatures() {
        try {
          const result = await sendUserFriendlyAI(
            "What features does NULL VOID have and how do I use them?"
          );
          const analysis = analyzeUserFriendliness(result);
          logTest("Extension Features", result, analysis);
        } catch (error) {
          logTest("Extension Features", "ERROR: " + error.message, {
            isUserFriendly: false,
            userFriendliness: 0,
            details: "Test failed",
          });
        }
      }

      function addChatMessage(message, isUser = false) {
        const chatMessages = document.getElementById("chatMessages");
        const messageDiv = document.createElement("div");
        messageDiv.className = `message ${
          isUser ? "user-message" : "ai-message"
        }`;
        messageDiv.innerHTML = message.replace(/\n/g, "<br>");
        chatMessages.appendChild(messageDiv);

        if (!isUser) {
          // Add analysis for AI responses
          const analysis = analyzeUserFriendliness(message);
          const analysisDiv = document.createElement("div");
          analysisDiv.className = "analysis";
          analysisDiv.innerHTML = `üìä User-Friendliness: ${
            analysis.userFriendliness
          }% | ${analysis.isUserFriendly ? "‚úÖ Good" : "‚ùå Too Technical"} | ${
            analysis.details
          }`;
          chatMessages.appendChild(analysisDiv);
        }

        chatMessages.scrollTop = chatMessages.scrollHeight;
      }

      async function sendMessage() {
        const input = document.getElementById("chatInput");
        const message = input.value.trim();

        if (!message) return;

        addChatMessage(message, true);
        input.value = "";

        try {
          const response = await sendUserFriendlyAI(message);
          addChatMessage(response, false);
        } catch (error) {
          addChatMessage(`Error: ${error.message}`, false);
        }
      }

      function handleKeypress(event) {
        if (event.key === "Enter") {
          sendMessage();
        }
      }

      function clearChat() {
        document.getElementById("chatMessages").innerHTML = "";
      }

      // Initialize
      window.addEventListener("load", () => {
        addChatMessage(
          "ü§ñ NULL VOID User-Friendly AI Test ready! Ask questions like a regular user would.",
          false
        );
      });
    </script>
  </body>
</html>
