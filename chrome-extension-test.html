<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chrome Extension Compatibility Test</title>
    <style>
      :root {
        --primary-bg: rgba(15, 15, 35, 0.9);
        --secondary-bg: rgba(26, 26, 46, 0.8);
        --success-color: #22c55e;
        --error-color: #ef4444;
        --warning-color: #f59e0b;
        --text-primary: #e8eaed;
        --text-secondary: #9aa0a6;
        --border-color: rgba(255, 255, 255, 0.1);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          sans-serif;
        background: linear-gradient(
          135deg,
          var(--primary-bg) 0%,
          var(--secondary-bg) 100%
        );
        color: var(--text-primary);
        min-height: 100vh;
        padding: 20px;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
      }

      .header {
        text-align: center;
        margin-bottom: 40px;
      }

      .header h1 {
        font-size: 2.5em;
        margin-bottom: 10px;
        background: linear-gradient(
          135deg,
          var(--text-primary) 0%,
          #9aa0a6 100%
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .header p {
        color: var(--text-secondary);
        font-size: 1.1em;
      }

      .test-section {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid var(--border-color);
        border-radius: 16px;
        padding: 24px;
        margin-bottom: 24px;
        backdrop-filter: blur(20px);
      }

      .test-section h2 {
        font-size: 1.5em;
        margin-bottom: 20px;
        color: var(--text-primary);
      }

      .test-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin-bottom: 20px;
      }

      .test-card {
        background: rgba(255, 255, 255, 0.08);
        border: 1px solid var(--border-color);
        border-radius: 12px;
        padding: 20px;
        transition: all 0.3s ease;
      }

      .test-card:hover {
        background: rgba(255, 255, 255, 0.12);
        transform: translateY(-2px);
      }

      .test-title {
        font-size: 1.2em;
        font-weight: 600;
        margin-bottom: 10px;
        color: var(--text-primary);
      }

      .test-description {
        font-size: 0.9em;
        color: var(--text-secondary);
        margin-bottom: 15px;
        line-height: 1.4;
      }

      .test-button {
        width: 100%;
        padding: 12px 20px;
        background: linear-gradient(135deg, #4285f4 0%, #34a853 100%);
        border: none;
        border-radius: 8px;
        color: white;
        font-size: 1em;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .test-button:hover {
        transform: translateY(-1px);
        box-shadow: 0 8px 25px rgba(66, 133, 244, 0.3);
      }

      .test-button:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        transform: none;
      }

      .status-indicator {
        display: inline-block;
        width: 12px;
        height: 12px;
        border-radius: 50%;
        margin-right: 8px;
      }

      .status-success {
        background: var(--success-color);
      }
      .status-error {
        background: var(--error-color);
      }
      .status-warning {
        background: var(--warning-color);
      }
      .status-pending {
        background: var(--text-secondary);
      }

      .test-result {
        margin-top: 15px;
        padding: 12px;
        border-radius: 8px;
        font-size: 0.9em;
        display: none;
      }

      .test-result.success {
        background: rgba(34, 197, 94, 0.1);
        border: 1px solid rgba(34, 197, 94, 0.3);
        color: var(--success-color);
      }

      .test-result.error {
        background: rgba(239, 68, 68, 0.1);
        border: 1px solid rgba(239, 68, 68, 0.3);
        color: var(--error-color);
      }

      .test-result.warning {
        background: rgba(245, 158, 11, 0.1);
        border: 1px solid rgba(245, 158, 11, 0.3);
        color: var(--warning-color);
      }

      .live-test-area {
        background: rgba(255, 255, 255, 0.03);
        border: 2px solid var(--border-color);
        border-radius: 16px;
        overflow: hidden;
        margin-top: 20px;
      }

      .live-test-header {
        background: rgba(255, 255, 255, 0.08);
        padding: 15px 20px;
        border-bottom: 1px solid var(--border-color);
        font-weight: 600;
        color: var(--text-primary);
      }

      .live-test-iframe {
        width: 100%;
        height: 600px;
        border: none;
        background: white;
      }

      .system-info {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 15px;
        margin-bottom: 20px;
      }

      .info-item {
        background: rgba(255, 255, 255, 0.05);
        padding: 15px;
        border-radius: 8px;
        border: 1px solid var(--border-color);
      }

      .info-label {
        font-size: 0.9em;
        color: var(--text-secondary);
        margin-bottom: 5px;
      }

      .info-value {
        font-size: 1em;
        color: var(--text-primary);
        font-weight: 500;
      }

      .overall-status {
        text-align: center;
        padding: 20px;
        margin-bottom: 30px;
        border-radius: 16px;
        border: 2px solid var(--border-color);
      }

      .overall-status.success {
        background: rgba(34, 197, 94, 0.1);
        border-color: var(--success-color);
      }

      .overall-status.error {
        background: rgba(239, 68, 68, 0.1);
        border-color: var(--error-color);
      }

      .overall-status h3 {
        font-size: 1.5em;
        margin-bottom: 10px;
      }

      .test-log {
        background: rgba(0, 0, 0, 0.3);
        border: 1px solid var(--border-color);
        border-radius: 8px;
        padding: 15px;
        margin-top: 20px;
        font-family: "Courier New", monospace;
        font-size: 0.9em;
        max-height: 300px;
        overflow-y: auto;
        color: var(--text-secondary);
      }

      .log-entry {
        margin-bottom: 8px;
        padding: 4px 0;
      }

      .log-timestamp {
        color: var(--text-secondary);
        margin-right: 10px;
      }

      .log-success {
        color: var(--success-color);
      }
      .log-error {
        color: var(--error-color);
      }
      .log-warning {
        color: var(--warning-color);
      }

      @media (max-width: 768px) {
        .test-grid {
          grid-template-columns: 1fr;
        }

        .header h1 {
          font-size: 2em;
        }

        .live-test-iframe {
          height: 500px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <header class="header">
        <h1>üß™ Chrome Extension Compatibility Test</h1>
        <p>
          Comprehensive testing for NULL VOID AI Chrome Extension CSP Compliance
        </p>
      </header>

      <div class="overall-status" id="overallStatus">
        <h3>
          <span class="status-indicator status-pending"></span>Initializing
          Tests...
        </h3>
        <p>Running comprehensive compatibility checks...</p>
      </div>

      <!-- System Information -->
      <div class="test-section">
        <h2>üìä System Information</h2>
        <div class="system-info" id="systemInfo">
          <div class="info-item">
            <div class="info-label">Browser</div>
            <div class="info-value" id="browserInfo">Detecting...</div>
          </div>
          <div class="info-item">
            <div class="info-label">User Agent</div>
            <div class="info-value" id="userAgent">Loading...</div>
          </div>
          <div class="info-item">
            <div class="info-label">Extension Context</div>
            <div class="info-value" id="extensionContext">Checking...</div>
          </div>
          <div class="info-item">
            <div class="info-label">CSP Mode</div>
            <div class="info-value" id="cspMode">Analyzing...</div>
          </div>
        </div>
      </div>

      <!-- Chrome Extension Tests -->
      <div class="test-section">
        <h2>üîß Chrome Extension Compatibility Tests</h2>
        <div class="test-grid">
          <div class="test-card">
            <div class="test-title">üìÑ External JS Loading</div>
            <div class="test-description">
              Tests if external JavaScript files load properly in Chrome
              extension context
            </div>
            <button class="test-button" onclick="testExternalJS()">
              Test External JS
            </button>
            <div class="test-result" id="externalJSResult"></div>
          </div>

          <div class="test-card">
            <div class="test-title">üîí CSP Compliance</div>
            <div class="test-description">
              Verifies Content Security Policy compliance for Chrome extensions
            </div>
            <button class="test-button" onclick="testCSPCompliance()">
              Test CSP
            </button>
            <div class="test-result" id="cspResult"></div>
          </div>

          <div class="test-card">
            <div class="test-title">üéõÔ∏è Event Handlers</div>
            <div class="test-description">
              Tests if event handlers work correctly without inline JavaScript
            </div>
            <button class="test-button" onclick="testEventHandlers()">
              Test Events
            </button>
            <div class="test-result" id="eventResult"></div>
          </div>

          <div class="test-card">
            <div class="test-title">üì± UI Components</div>
            <div class="test-description">
              Verifies hamburger menu, search panel, and input functionality
            </div>
            <button class="test-button" onclick="testUIComponents()">
              Test UI
            </button>
            <div class="test-result" id="uiResult"></div>
          </div>

          <div class="test-card">
            <div class="test-title">üíæ Local Storage</div>
            <div class="test-description">
              Tests localStorage functionality for chat history persistence
            </div>
            <button class="test-button" onclick="testLocalStorage()">
              Test Storage
            </button>
            <div class="test-result" id="storageResult"></div>
          </div>

          <div class="test-card">
            <div class="test-title">üîó API Connections</div>
            <div class="test-description">
              Tests external API connections and CORS handling
            </div>
            <button class="test-button" onclick="testAPIConnections()">
              Test APIs
            </button>
            <div class="test-result" id="apiResult"></div>
          </div>
        </div>
      </div>

      <!-- Live UI Test -->
      <div class="test-section">
        <h2>üñ•Ô∏è Live Chrome Extension Interface Test</h2>
        <p style="color: var(--text-secondary); margin-bottom: 20px">
          This embed shows the actual Chrome extension compatible interface.
          Test all functionality below:
        </p>
        <div class="live-test-area">
          <div class="live-test-header">
            üî¥ LIVE: ai-chat-chrome-extension.html (CSP Compliant)
          </div>
          <iframe
            src="src/ai-chat-chrome-extension.html"
            class="live-test-iframe"
            id="liveTestFrame"
            title="Chrome Extension Compatible Interface"
          >
          </iframe>
        </div>
      </div>

      <!-- Manual Test Checklist -->
      <div class="test-section">
        <h2>‚úÖ Manual Test Checklist</h2>
        <div
          style="
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 12px;
          "
        >
          <h3 style="margin-bottom: 15px; color: var(--text-primary)">
            Manual Testing Steps:
          </h3>
          <div style="display: grid; gap: 10px">
            <label
              style="
                display: flex;
                align-items: center;
                gap: 10px;
                cursor: pointer;
              "
            >
              <input
                type="checkbox"
                id="check1"
                style="transform: scale(1.2)"
              />
              <span
                >1. Click hamburger button (‚ò∞) - sidebar should toggle
                smoothly</span
              >
            </label>
            <label
              style="
                display: flex;
                align-items: center;
                gap: 10px;
                cursor: pointer;
              "
            >
              <input
                type="checkbox"
                id="check2"
                style="transform: scale(1.2)"
              />
              <span
                >2. Click search button (üîç) - floating search panel should
                appear</span
              >
            </label>
            <label
              style="
                display: flex;
                align-items: center;
                gap: 10px;
                cursor: pointer;
              "
            >
              <input
                type="checkbox"
                id="check3"
                style="transform: scale(1.2)"
              />
              <span
                >3. Type in search field - should accept input and filter</span
              >
            </label>
            <label
              style="
                display: flex;
                align-items: center;
                gap: 10px;
                cursor: pointer;
              "
            >
              <input
                type="checkbox"
                id="check4"
                style="transform: scale(1.2)"
              />
              <span
                >4. Click main input area - should focus and enable send
                button</span
              >
            </label>
            <label
              style="
                display: flex;
                align-items: center;
                gap: 10px;
                cursor: pointer;
              "
            >
              <input
                type="checkbox"
                id="check5"
                style="transform: scale(1.2)"
              />
              <span>5. Type test message - send button should activate</span>
            </label>
            <label
              style="
                display: flex;
                align-items: center;
                gap: 10px;
                cursor: pointer;
              "
            >
              <input
                type="checkbox"
                id="check6"
                style="transform: scale(1.2)"
              />
              <span
                >6. Send message - should appear in chat and get AI
                response</span
              >
            </label>
            <label
              style="
                display: flex;
                align-items: center;
                gap: 10px;
                cursor: pointer;
              "
            >
              <input
                type="checkbox"
                id="check7"
                style="transform: scale(1.2)"
              />
              <span
                >7. Check browser console - no CSP violations or JavaScript
                errors</span
              >
            </label>
            <label
              style="
                display: flex;
                align-items: center;
                gap: 10px;
                cursor: pointer;
              "
            >
              <input
                type="checkbox"
                id="check8"
                style="transform: scale(1.2)"
              />
              <span
                >8. Test on mobile/responsive - all functionality should
                work</span
              >
            </label>
          </div>
          <button
            style="
              margin-top: 20px;
              padding: 12px 24px;
              background: var(--success-color);
              border: none;
              border-radius: 8px;
              color: white;
              font-weight: 600;
              cursor: pointer;
            "
            onclick="evaluateManualTests()"
          >
            Evaluate Manual Tests
          </button>
        </div>
      </div>

      <!-- Test Log -->
      <div class="test-section">
        <h2>üìã Test Log</h2>
        <div class="test-log" id="testLog">
          <div class="log-entry">
            <span class="log-timestamp">[00:00:00]</span>
            <span>Test suite initialized...</span>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Test logging system
      function logTest(message, type = "info") {
        const testLog = document.getElementById("testLog");
        const timestamp = new Date().toLocaleTimeString();
        const entry = document.createElement("div");
        entry.className = `log-entry log-${type}`;
        entry.innerHTML = `<span class="log-timestamp">[${timestamp}]</span><span>${message}</span>`;
        testLog.appendChild(entry);
        testLog.scrollTop = testLog.scrollHeight;
      }

      // Initialize system information
      function initSystemInfo() {
        // Browser detection
        const userAgent = navigator.userAgent;
        document.getElementById("userAgent").textContent = userAgent;

        let browser = "Unknown";
        if (userAgent.includes("Chrome")) browser = "Chrome";
        else if (userAgent.includes("Firefox")) browser = "Firefox";
        else if (userAgent.includes("Safari")) browser = "Safari";
        else if (userAgent.includes("Edge")) browser = "Edge";

        document.getElementById("browserInfo").textContent = browser;

        // Extension context detection
        const isExtension =
          window.chrome && chrome.runtime && chrome.runtime.id;
        document.getElementById("extensionContext").textContent = isExtension
          ? "Extension Context"
          : "Web Page Context";

        // CSP mode detection
        const cspMode = isExtension
          ? "Strict CSP (Extension)"
          : "Standard CSP (Web)";
        document.getElementById("cspMode").textContent = cspMode;

        logTest("System information initialized", "success");
      }

      // Test external JavaScript loading
      function testExternalJS() {
        const result = document.getElementById("externalJSResult");

        try {
          // Check if external JS file loaded
          const hasExternalJS = typeof window.ChatGPTUI !== "undefined";

          if (hasExternalJS) {
            result.className = "test-result success";
            result.style.display = "block";
            result.innerHTML =
              '<span class="status-indicator status-success"></span>External JavaScript loaded successfully!';
            logTest(
              "External JS test: PASSED - ai-chat-extension.js loaded",
              "success"
            );
          } else {
            result.className = "test-result error";
            result.style.display = "block";
            result.innerHTML =
              '<span class="status-indicator status-error"></span>External JavaScript failed to load!';
            logTest(
              "External JS test: FAILED - ai-chat-extension.js not found",
              "error"
            );
          }
        } catch (error) {
          result.className = "test-result error";
          result.style.display = "block";
          result.innerHTML = `<span class="status-indicator status-error"></span>Error testing external JS: ${error.message}`;
          logTest(`External JS test: ERROR - ${error.message}`, "error");
        }
      }

      // Test CSP compliance
      function testCSPCompliance() {
        const result = document.getElementById("cspResult");

        try {
          // Check for inline script violations
          const inlineScripts = document.querySelectorAll("script:not([src])");
          const hasInlineHandlers = document.querySelector(
            "[onclick], [onload], [onerror]"
          );

          let violations = [];

          // Check for inline scripts (excluding this test script)
          if (inlineScripts.length > 1) {
            // This script itself is allowed for testing
            violations.push("Inline scripts detected");
          }

          // Check for inline event handlers
          if (hasInlineHandlers) {
            violations.push("Inline event handlers detected");
          }

          if (violations.length === 0) {
            result.className = "test-result success";
            result.style.display = "block";
            result.innerHTML =
              '<span class="status-indicator status-success"></span>CSP compliant - No violations detected!';
            logTest("CSP test: PASSED - No violations found", "success");
          } else {
            result.className = "test-result warning";
            result.style.display = "block";
            result.innerHTML = `<span class="status-indicator status-warning"></span>CSP violations: ${violations.join(
              ", "
            )}`;
            logTest(
              `CSP test: WARNING - Violations: ${violations.join(", ")}`,
              "warning"
            );
          }
        } catch (error) {
          result.className = "test-result error";
          result.style.display = "block";
          result.innerHTML = `<span class="status-indicator status-error"></span>Error testing CSP: ${error.message}`;
          logTest(`CSP test: ERROR - ${error.message}`, "error");
        }
      }

      // Test event handlers
      function testEventHandlers() {
        const result = document.getElementById("eventResult");

        try {
          // Test if we can access the iframe and its event handlers
          const iframe = document.getElementById("liveTestFrame");

          if (iframe) {
            // Try to access iframe content (this will work if same-origin)
            setTimeout(() => {
              try {
                const iframeDoc =
                  iframe.contentDocument || iframe.contentWindow.document;
                const hamburgerBtn = iframeDoc.getElementById("sidebarToggle");
                const searchBtn = iframeDoc.getElementById("searchBtn");

                if (hamburgerBtn && searchBtn) {
                  result.className = "test-result success";
                  result.style.display = "block";
                  result.innerHTML =
                    '<span class="status-indicator status-success"></span>Event handlers accessible and ready!';
                  logTest(
                    "Event handlers test: PASSED - All buttons found",
                    "success"
                  );
                } else {
                  result.className = "test-result warning";
                  result.style.display = "block";
                  result.innerHTML =
                    '<span class="status-indicator status-warning"></span>Some event handlers not found!';
                  logTest(
                    "Event handlers test: WARNING - Some buttons missing",
                    "warning"
                  );
                }
              } catch (crossOriginError) {
                result.className = "test-result warning";
                result.style.display = "block";
                result.innerHTML =
                  '<span class="status-indicator status-warning"></span>Cross-origin restriction (normal for file:// protocol)';
                logTest(
                  "Event handlers test: WARNING - Cross-origin restriction",
                  "warning"
                );
              }
            }, 1000);
          } else {
            result.className = "test-result error";
            result.style.display = "block";
            result.innerHTML =
              '<span class="status-indicator status-error"></span>Test iframe not found!';
            logTest("Event handlers test: FAILED - Iframe not found", "error");
          }
        } catch (error) {
          result.className = "test-result error";
          result.style.display = "block";
          result.innerHTML = `<span class="status-indicator status-error"></span>Error testing events: ${error.message}`;
          logTest(`Event handlers test: ERROR - ${error.message}`, "error");
        }
      }

      // Test UI components
      function testUIComponents() {
        const result = document.getElementById("uiResult");

        try {
          // Test iframe loading
          const iframe = document.getElementById("liveTestFrame");

          if (
            iframe.src &&
            iframe.src.includes("ai-chat-chrome-extension.html")
          ) {
            result.className = "test-result success";
            result.style.display = "block";
            result.innerHTML =
              '<span class="status-indicator status-success"></span>UI components loaded - Test manually in iframe above!';
            logTest("UI components test: PASSED - Interface loaded", "success");
          } else {
            result.className = "test-result error";
            result.style.display = "block";
            result.innerHTML =
              '<span class="status-indicator status-error"></span>UI components failed to load!';
            logTest(
              "UI components test: FAILED - Interface not loaded",
              "error"
            );
          }
        } catch (error) {
          result.className = "test-result error";
          result.style.display = "block";
          result.innerHTML = `<span class="status-indicator status-error"></span>Error testing UI: ${error.message}`;
          logTest(`UI components test: ERROR - ${error.message}`, "error");
        }
      }

      // Test local storage
      function testLocalStorage() {
        const result = document.getElementById("storageResult");

        try {
          // Test localStorage access
          const testKey = "null_void_test";
          const testValue = "chrome_extension_test";

          localStorage.setItem(testKey, testValue);
          const retrieved = localStorage.getItem(testKey);
          localStorage.removeItem(testKey);

          if (retrieved === testValue) {
            result.className = "test-result success";
            result.style.display = "block";
            result.innerHTML =
              '<span class="status-indicator status-success"></span>localStorage working correctly!';
            logTest(
              "LocalStorage test: PASSED - Read/write successful",
              "success"
            );
          } else {
            result.className = "test-result error";
            result.style.display = "block";
            result.innerHTML =
              '<span class="status-indicator status-error"></span>localStorage not working!';
            logTest("LocalStorage test: FAILED - Read/write failed", "error");
          }
        } catch (error) {
          result.className = "test-result error";
          result.style.display = "block";
          result.innerHTML = `<span class="status-indicator status-error"></span>localStorage error: ${error.message}`;
          logTest(`LocalStorage test: ERROR - ${error.message}`, "error");
        }
      }

      // Test API connections
      function testAPIConnections() {
        const result = document.getElementById("apiResult");

        try {
          // Test fetch API availability
          if (typeof fetch !== "undefined") {
            result.className = "test-result success";
            result.style.display = "block";
            result.innerHTML =
              '<span class="status-indicator status-success"></span>Fetch API available - CORS depends on manifest permissions';
            logTest(
              "API connections test: PASSED - Fetch API available",
              "success"
            );
          } else {
            result.className = "test-result error";
            result.style.display = "block";
            result.innerHTML =
              '<span class="status-indicator status-error"></span>Fetch API not available!';
            logTest(
              "API connections test: FAILED - Fetch API unavailable",
              "error"
            );
          }
        } catch (error) {
          result.className = "test-result error";
          result.style.display = "block";
          result.innerHTML = `<span class="status-indicator status-error"></span>Error testing APIs: ${error.message}`;
          logTest(`API connections test: ERROR - ${error.message}`, "error");
        }
      }

      // Evaluate manual tests
      function evaluateManualTests() {
        const checkboxes = document.querySelectorAll('input[type="checkbox"]');
        const checkedCount = Array.from(checkboxes).filter(
          (cb) => cb.checked
        ).length;
        const totalCount = checkboxes.length;

        if (checkedCount === totalCount) {
          updateOverallStatus(
            "success",
            "All Tests Passed!",
            "Chrome extension compatibility verified successfully."
          );
          logTest(
            `Manual evaluation: ALL TESTS PASSED (${checkedCount}/${totalCount})`,
            "success"
          );
        } else if (checkedCount >= totalCount * 0.7) {
          updateOverallStatus(
            "warning",
            "Most Tests Passed",
            `${checkedCount} of ${totalCount} tests completed successfully.`
          );
          logTest(
            `Manual evaluation: MOSTLY PASSED (${checkedCount}/${totalCount})`,
            "warning"
          );
        } else {
          updateOverallStatus(
            "error",
            "Tests Failed",
            `Only ${checkedCount} of ${totalCount} tests passed. Review implementation.`
          );
          logTest(
            `Manual evaluation: FAILED (${checkedCount}/${totalCount})`,
            "error"
          );
        }
      }

      // Update overall status
      function updateOverallStatus(type, title, description) {
        const status = document.getElementById("overallStatus");
        status.className = `overall-status ${type}`;

        const indicator =
          type === "success"
            ? "status-success"
            : type === "warning"
            ? "status-warning"
            : "status-error";

        status.innerHTML = `
                <h3><span class="status-indicator ${indicator}"></span>${title}</h3>
                <p>${description}</p>
            `;
      }

      // Initialize tests on page load
      document.addEventListener("DOMContentLoaded", function () {
        initSystemInfo();
        logTest("Chrome Extension Compatibility Test Suite loaded", "success");

        // Auto-run basic tests
        setTimeout(() => {
          testExternalJS();
          testCSPCompliance();
          testLocalStorage();
          testAPIConnections();
        }, 500);
      });
    </script>
  </body>
</html>
